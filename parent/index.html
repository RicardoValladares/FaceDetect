<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Index</title>

  <script type="text/javascript">
  window.open ("ok.html","mywindow", "width=350,height=250");

  // Create IE + others compatible event handler
  var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
  var eventer = window[eventMethod];
  var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";

  // Listen to message from child window
  eventer(messageEvent,function(e) {
    console.log('origin: ', e.origin)
    
    // Check if origin is proper
    if( e.origin != 'http://localhost:8080' ){ return }
    //if( e.origin != '*' ){ return }

    console.log('parent received message!: ', e.data);

    alert(e.data);

  }, false);
  </script>
</head>
<body>
</body>
</html>